<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.edusport.mapper.AthleteSelectionAthleteScoreDetailMapper">

	<select id="getAthleteScoreById" resultType="java.lang.Integer" parameterType="map">
        SELECT IFNULL(SUM(test_score),0) test_score FROM tb_edu_athlete_selection_athlete_score_detail 
		WHERE athlete_score_id = #{id}
    </select>
    
        
	<delete id="deleteIndexByIndexId" parameterType="java.util.List">
        delete from tb_edu_athlete_selection_athlete_score_detail where
        <foreach collection="list"  item="item" separator=" or " index="index">
            (athlete_score_id = #{item.athleteScoreId} and athlete_id= #{item.athleteId}
            and test_id = #{item.testId} and group_id = #{item.groupId} and index_code = #{item.indexCode})
        </foreach>
    </delete>
</mapper>